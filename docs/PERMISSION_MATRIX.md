# Permission Matrix - Visual Reference
> Matriz visual de permisos por rol y entidad

---

## ğŸ“Š Current Permission Matrix

### Legend
- âœ… = Permitido
- âŒ = Denegado
- ğŸ”’ = Solo propios (User level)
- ğŸ‘¥ = Team level
- ğŸŒ = Organization level

---

## ğŸ” LEADS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Delete    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ’¼ OPPORTUNITIES

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Delete    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ¢ ACCOUNTS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âœ… ğŸ‘¥     |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Delete    | âœ… ğŸŒ | âœ… ğŸ”’          | âŒ        | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ‘¤ CONTACTS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âœ… ğŸ‘¥     |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âœ… ğŸ‘¥     |
| Delete    | âœ… ğŸŒ | âœ… ğŸ”’          | âŒ        | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âœ… ğŸ‘¥     |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ“‹ QUOTES

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Delete    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ“¦ ORDERS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âŒ        |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âŒ        |
| Delete    | âœ… ğŸŒ | âœ… ğŸ”’          | âŒ        | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ’° INVOICES

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âŒ        |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Delete    | âœ… ğŸŒ | âœ… ğŸ”’          | âŒ        | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Share     | âœ… ğŸŒ | âœ… ğŸ‘¥          | âŒ        | âŒ               | âŒ        |

---

## ğŸ“¦ PRODUCTS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸŒ         | âœ… ğŸŒ     | âŒ               | âŒ        |
| Update    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |
| Delete    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸŒ         | âŒ        | âŒ               | âŒ        |
| Share     | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |

**Note**: Products son Organization-level read para todos los roles de ventas (catÃ¡logo compartido)

---

## ğŸ“… ACTIVITIES

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âœ… ğŸ‘¥     |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âœ… ğŸ‘¥     |
| Update    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âœ… ğŸ”’            | âœ… ğŸ‘¥     |
| Delete    | âœ… ğŸŒ | âœ… ğŸ‘¥          | âœ… ğŸ”’     | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |
| Share     | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |

---

## ğŸ‘¥ SYSTEM USERS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Create    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥         | âŒ        | âŒ               | âŒ        |
| Update    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |
| Delete    | âœ… ğŸŒ | âŒ            | âŒ        | âŒ               | âŒ        |

**Note**: Solo Admin puede gestionar usuarios

---

## ğŸ“Š AUDIT LOGS

| Operation | Admin | Sales Manager | Sales Rep | Customer Service | Marketing |
|-----------|-------|---------------|-----------|------------------|-----------|
| Read      | âœ… ğŸŒ | âœ… ğŸ‘¥         | âŒ        | âŒ               | âŒ        |
| Export    | âœ… ğŸŒ | âœ… ğŸ‘¥         | âŒ        | âŒ               | âŒ        |

**Note**: Solo lectura y export, no se pueden modificar logs

---

## ğŸ¯ Role Summaries

### ğŸ”´ System Administrator
- **Access**: Organization-level en TODAS las entidades
- **Can**: Todo (CRUD + Share + Export)
- **Use Case**: IT, CEO, System Admins

### ğŸ”µ Sales Manager
- **Access**: Team-level en entidades de ventas
- **Can**: CRUD + Share + Export para su equipo
- **Cannot**: Gestionar usuarios (solo leer team)
- **Use Case**: Gerente de Ventas, Team Leader

### ğŸŸ¢ Sales Representative
- **Access**: User-level (solo sus registros)
- **Can**: CRUD en sus propios leads, opportunities, quotes, orders, invoices
- **Cannot**: Delete Accounts/Contacts, Share records, Gestionar productos
- **Use Case**: Vendedor, Account Executive

### ğŸŸ¡ Customer Service Rep
- **Access**: User-level (soporte)
- **Can**: Read/Update orders, invoices, contacts
- **Cannot**: Ver leads/opportunities, Crear/eliminar
- **Use Case**: Soporte al Cliente, Account Manager

### ğŸŸ£ Marketing Professional
- **Access**: Team-level en leads/contacts
- **Can**: Gestionar leads, contacts, activities (campaÃ±as)
- **Cannot**: Ver opportunities, quotes, orders, invoices
- **Use Case**: Marketing Manager, Campaign Specialist

---

## ğŸ“ Quick Modification Examples

### Permitir que Sales Rep pueda Delete Accounts
```typescript
// src/core/contracts/security/permissions.ts
[UserRole.SalesRepresentative]: [
  // ... otros permisos
  { entity: PermissionEntity.Account, operation: Permission.Delete, accessLevel: AccessLevel.User },
]
```

### Dar acceso Organization-level a Sales Manager en Products
```typescript
[UserRole.SalesManager]: [
  // ... otros permisos
  { entity: PermissionEntity.Product, operation: Permission.Create, accessLevel: AccessLevel.Organization },
  { entity: PermissionEntity.Product, operation: Permission.Update, accessLevel: AccessLevel.Organization },
]
```

### Remover permiso de Export para Marketing
```typescript
[UserRole.MarketingProfessional]: [
  // ... otros permisos
  // Comentar o eliminar estas lÃ­neas:
  // { entity: PermissionEntity.Lead, operation: Permission.Export, accessLevel: AccessLevel.Team },
  // { entity: PermissionEntity.Contact, operation: Permission.Export, accessLevel: AccessLevel.Team },
]
```

---

## ğŸ” Where to Find This in Code

**File**: `src/core/contracts/security/permissions.ts`

**Lines**:
- System Administrator: 50-120
- Sales Manager: 123-200
- Sales Representative: 203-260
- Customer Service Rep: 263-285
- Marketing Professional: 288-315

---

**Last Updated**: 2025-01-15
**Source**: permissions.ts (ROLE_PERMISSIONS constant)
